I recommend watching andrew's video on collaborative filtering on coursera before reading this code.
You can also use the movieLens dataset to do much more learning.

Enjoy learning.